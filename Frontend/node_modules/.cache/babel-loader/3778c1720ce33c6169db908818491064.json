{"ast":null,"code":"var _jsxFileName = \"/Users/rakshithasathyakumar/Desktop/yelp-master/Frontend/src/components/Login.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { userLogin } from '../actions/loginAction';\nimport yelpLoginImage from './images/yelp_logo.jpg';\nimport jwt_decode from 'jwt-decode'; //const jwt_decode = require('jwt-decode');\n\nclass Login extends Component {\n  //call the constructor method\n  constructor(props) {\n    //Call the constrictor of Super class i.e The Component\n    super(props); //maintain the state required for this component\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const data = {\n        email: this.state.email,\n        password: this.state.password\n      };\n      this.props.userLogin(data);\n      console.log(this.props.user);\n      this.setState({\n        authFlag: true,\n        loginFlag: 1\n      });\n    };\n\n    this.state = {};\n  }\n\n  componentWillMount() {\n    this.setState({\n      authFlag: false\n    });\n  }\n\n  render() {\n    console.log(this.props);\n    let redirectVar = null;\n    let message = \"\";\n\n    if (this.props.user && this.props.user.firstName) {\n      //localStorage.setItem(\"user\", 'True'),\n      localStorage.setItem(\"token\", this.props.user.token);\n      var decoded = jwt_decode(this.props.user.token.split(' ')[1]);\n      localStorage.setItem(\"email_id\", decoded.email);\n      localStorage.setItem(\"first_name\", this.props.user.firstName);\n      localStorage.setItem(\"user_id\", decoded._id);\n      localStorage.setItem(\"last_name\", this.props.user.lastName); //localStorage.setItem(\"user\", 'True'),\n      // localStorage.setItem(\"rest_name\", this.props.user.name);\n      // localStorage.setItem(\"rest_id\", this.props.user.rest_id);\n\n      redirectVar = /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/home\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 27\n        }\n      });\n    } else if (this.props.user && this.props.user.name) {\n      //localStorage.setItem(\"user\", 'False');\n      localStorage.setItem(\"token\", this.props.user.token);\n      decoded = jwt_decode(this.props.user.token.split(' ')[1]);\n      localStorage.setItem(\"rest_id\", decoded._id);\n      localStorage.setItem(\"rest_name\", this.props.user.name);\n      localStorage.setItem(\"rest_email\", decoded.email); //localStorage.setItem(\"user\", 'False');\n\n      redirectVar = /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/restaurant\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 26\n        }\n      });\n    }\n\n    if (this.props.user === \"NO_USER\" && this.state.loginFlag) {\n      message = \"No user with this email id\";\n    } else if (this.props.user === \"INCORRECT_PASSWORD\" && this.state.loginFlag) {\n      message = \"Incorrect Password\";\n    }\n\n    console.log(redirectVar);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }\n    }, redirectVar, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"container\",\n      style: {\n        marginTop: \"30px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: yelpLoginImage,\n      style: {\n        height: 'fit-content'\n      },\n      alt: \"Yelp\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"container-fluid\",\n      style: {\n        marginTop: \"30px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-md-4 col-sm-4 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-md-4 col-sm-4 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        color: \"red\",\n        marginBottom: \"20px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 41\n      }\n    }, \" Sign in to Yelp\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 41\n      }\n    }, \"New to Yelp? \", /*#__PURE__*/React.createElement(Link, {\n      to: \"/customerSignup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 59\n      }\n    }, \"Sign Up\")), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        padding: \"5px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.onChange,\n      name: \"email\",\n      class: \"form-control\",\n      id: \"inputEmail\",\n      placeholder: \"Email ID\",\n      pattern: \"^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\\\.[a-z0-9!#$'%&*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])$\",\n      title: \"Please enter valid email address\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 49\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      onChange: this.onChange,\n      name: \"password\",\n      class: \"form-control\",\n      id: \"inputEmail\",\n      placeholder: \"password\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 49\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"checkbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 53\n      }\n    }), \" Remember me\")), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      class: \"btn btn-danger btn-block\",\n      style: {\n        marginTop: \"10px\",\n        backgroundColor: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 45\n      }\n    }, \" Sign In \"))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-md-4 col-sm-4 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 37\n      }\n    }))))));\n  }\n\n}\n\nLogin.propTypes = {\n  userLogin: PropTypes.func.isRequired,\n  user: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => {\n  return {\n    user: state.login.user\n  };\n};\n\nexport default connect(mapStateToProps, {\n  userLogin\n})(Login);","map":{"version":3,"sources":["/Users/rakshithasathyakumar/Desktop/yelp-master/Frontend/src/components/Login.js"],"names":["React","Component","Redirect","Link","PropTypes","axios","connect","userLogin","yelpLoginImage","jwt_decode","Login","constructor","props","onChange","e","setState","target","name","value","onSubmit","preventDefault","data","email","state","password","console","log","user","authFlag","loginFlag","componentWillMount","render","redirectVar","message","firstName","localStorage","setItem","token","decoded","split","_id","lastName","marginTop","height","color","marginBottom","padding","backgroundColor","propTypes","func","isRequired","object","mapStateToProps","login"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { userLogin } from '../actions/loginAction'\nimport yelpLoginImage from './images/yelp_logo.jpg';\nimport jwt_decode from 'jwt-decode';\n//const jwt_decode = require('jwt-decode');\n\nclass Login extends Component {\n    //call the constructor method\n    constructor(props) {\n        //Call the constrictor of Super class i.e The Component\n        super(props);\n        //maintain the state required for this component\n        this.state = {};\n    }\n\n    componentWillMount() {\n        this.setState({\n            authFlag: false\n        })\n    }\n\n    onChange = (e) => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    }\n\n    //submit Login handler to send a request to the node backend\n    onSubmit = (e) => {\n        e.preventDefault();\n        const data = {\n            email: this.state.email,\n            password: this.state.password\n        }\n\n        this.props.userLogin(data);\n        console.log(this.props.user);\n        this.setState({\n            authFlag: true,\n            loginFlag: 1\n        });\n    }\n    render() {\n        console.log(this.props);\n        let redirectVar = null;\n        let message = \"\"\n        if(this.props.user && this.props.user.firstName)\n        {\n            //localStorage.setItem(\"user\", 'True'),\n            localStorage.setItem(\"token\", this.props.user.token)\n\n            var decoded = jwt_decode(this.props.user.token.split(' ')[1]);\n            localStorage.setItem(\"email_id\", decoded.email);\n            localStorage.setItem(\"first_name\", this.props.user.firstName);\n            localStorage.setItem(\"user_id\", decoded._id);\n            localStorage.setItem(\"last_name\", this.props.user.lastName);\n            //localStorage.setItem(\"user\", 'True'),\n            // localStorage.setItem(\"rest_name\", this.props.user.name);\n            // localStorage.setItem(\"rest_id\", this.props.user.rest_id);\n            \n            redirectVar = <Redirect to=\"/home\" />\n        } else if (this.props.user && this.props.user.name)\n        {\n\n            //localStorage.setItem(\"user\", 'False');\n            localStorage.setItem(\"token\", this.props.user.token)\n\n            decoded = jwt_decode(this.props.user.token.split(' ')[1]);\n            localStorage.setItem(\"rest_id\", decoded._id);\n            localStorage.setItem(\"rest_name\", this.props.user.name);\n            localStorage.setItem(\"rest_email\", decoded.email);\n            //localStorage.setItem(\"user\", 'False');\n\n            redirectVar =<Redirect to=\"/restaurant\" />\n        }\n        if(this.props.user === \"NO_USER\" && this.state.loginFlag){\n            message = \"No user with this email id\";\n        }\n        else if(this.props.user === \"INCORRECT_PASSWORD\" && this.state.loginFlag){\n            message = \"Incorrect Password\";\n        }\n        console.log(redirectVar)\n        return (\n            <div>\n                {redirectVar}\n                <div class='container' style={{marginTop: \"30px\"}}>\n                    <div class='form-container'>\n                    <center>\n                    <img src={yelpLoginImage} style={{ height: 'fit-content' }} alt='Yelp' />\n                    </center>\n                        <div class='container-fluid' style={{marginTop: \"30px\"}}>\n                            <div class='row'>\n                                <div class='col-md-4 col-sm-4 col-xs-12'></div>\n                                <div class='col-md-4 col-sm-4 col-xs-12'>\n                                    <center>\n                                        <h3 style={{color: \"red\", marginBottom: \"20px\"}}> Sign in to Yelp</h3>\n                                        <div>New to Yelp? <Link to='/customerSignup'>Sign Up</Link></div>\n                                        <div style={{padding: \"5px\"}}></div>\n                                    </center>\n                                        <form onSubmit={this.onSubmit}>\n                                            <div class='form-group'>\n                                                <input type='text' onChange={this.onChange} name='email' class='form-control' id='inputEmail' placeholder='Email ID' pattern=\"^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$'%&*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])$\" title=\"Please enter valid email address\" required/>\n                                            </div>\n                                            <div class='form-group'>\n                                                <input type='password' onChange={this.onChange} name='password' class='form-control' id='inputEmail' placeholder='password' required/>\n                                            </div>\n                                            <div class=\"checkbox\">\n                                                <label>\n                                                    <input type='checkbox'/> Remember me\n                                                </label>\n                                            </div>\n                                            <button type='submit' class='btn btn-danger btn-block' style={{marginTop:\"10px\", backgroundColor: \"red\"}}> Sign In </button>\n                                        </form>\n                                    </div>\n                                    <div class='col-md-4 col-sm-4 col-xs-12'></div>\n                            </div>\n                        </div> \n                </div>  \n            </div>\n        </div>\n        )\n    }\n}\n\nLogin.propTypes = {\n    userLogin: PropTypes.func.isRequired,\n    user: PropTypes.object.isRequired\n}\n\nconst mapStateToProps = state => { \n    return ({\n    user: state.login.user\n})};\n\nexport default connect(mapStateToProps, { userLogin })(Login);"]},"metadata":{},"sourceType":"module"}